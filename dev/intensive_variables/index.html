<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Intensive Variables · MAGEMinEnsemble</title><meta name="title" content="Intensive Variables · MAGEMinEnsemble"/><meta property="og:title" content="Intensive Variables · MAGEMinEnsemble"/><meta property="twitter:title" content="Intensive Variables · MAGEMinEnsemble"/><meta name="description" content="Documentation for MAGEMinEnsemble."/><meta property="og:description" content="Documentation for MAGEMinEnsemble."/><meta property="twitter:description" content="Documentation for MAGEMinEnsemble."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">MAGEMinEnsemble</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../basic_usage/">Basic Usage</a></li><li class="is-active"><a class="tocitem" href>Intensive Variables</a><ul class="internal"><li><a class="tocitem" href="#Temperature-(mandatory)"><span>Temperature (mandatory)</span></a></li><li><a class="tocitem" href="#Bulk-composition-(mandatory)"><span>Bulk composition (mandatory)</span></a></li><li><a class="tocitem" href="#Pressure-(mandatory)"><span>Pressure (mandatory)</span></a></li><li><a class="tocitem" href="#Fugacity-and-Activity"><span>Fugacity and Activity</span></a></li></ul></li><li><a class="tocitem" href="../oxygen_fugacity/">Controlling Oxygen Fugacity</a></li><li><a class="tocitem" href="../monte_carlo/">Monte Carlo Bulk Composition</a></li><li><a class="tocitem" href="../functions/">Functions</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Intensive Variables</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Intensive Variables</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/fboschetty/MAGEMinEnsemble" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/fboschetty/MAGEMinEnsemble/blob/main/docs/src/intensive_variables.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="intensive_variables"><a class="docs-heading-anchor" href="#intensive_variables">Intensive Variables</a><a id="intensive_variables-1"></a><a class="docs-heading-anchor-permalink" href="#intensive_variables" title="Permalink"></a></h1><p>MAGEMinEnsemble allows the user to define a parameter space over which an ensemble of thermodynamic simulations are performed. This section describes the intensive parameters that can be specified. Mandatory parameters are marked (mandatory). Incorrect inputs will generally result in descriptive errors when the simulations are run.</p><h2 id="Temperature-(mandatory)"><a class="docs-heading-anchor" href="#Temperature-(mandatory)">Temperature (mandatory)</a><a id="Temperature-(mandatory)-1"></a><a class="docs-heading-anchor-permalink" href="#Temperature-(mandatory)" title="Permalink"></a></h2><p>Temperature is specified using initial (<code>&quot;T_start&quot;</code>), final (<code>&quot;T_stop&quot;</code>) and incremental (<code>&quot;T_step&quot;</code>) temperatures, in degrees Celsius. Where corresponding values are floats.</p><pre><code class="language-Julia hljs">constant_inputs = OrderedDict(
    &quot;T_start&quot; =&gt; 1400.,  # Starting temperature (°C)
    &quot;T_stop&quot; =&gt; 800.,    # Final temperature (°C)
    &quot;T_step&quot; =&gt; -1.      # Temperature step (°C)
)</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>For crystallisation simulations, the final temperature may not be reached, as fractional simulations will stop when the bulk solidus (i.e., when the melt fraction is 0). To ensure that the simulations start above the solidus, choose a sufficiently high maximum temperature.</p></div></div><p>Any or all of the three temperature keys can also be assigned as <code>variable_inputs</code>. For example, running multiple simulations with variable <code>&quot;T_step&quot;</code> to investigate the effects of varying temperature increments.</p><pre><code class="language-Julia hljs">variable_inputs = OrderedDict(
    # Different step sizes
    &quot;T_step&quot; =&gt; [-1., -2., -5., -10., -20.]
)</code></pre><h2 id="Bulk-composition-(mandatory)"><a class="docs-heading-anchor" href="#Bulk-composition-(mandatory)">Bulk composition (mandatory)</a><a id="Bulk-composition-(mandatory)-1"></a><a class="docs-heading-anchor-permalink" href="#Bulk-composition-(mandatory)" title="Permalink"></a></h2><p>The bulk composition of the simulation is specified in terms of oxide wt.%. <code>MAGEMin</code> operates in an 11-dimensional composition space: Na₂O–CaO–K₂O–FeO–MgO–Al₂O₃–SiO₂–TiO₂–Fe₂O₃–Cr₂O₃–H₂O.</p><p>Each oxide is defined by a key, value pair, where the value is a float. All oxide values should be positive. When an oxide is set to 0.0  (except for <code>&quot;H2O&quot;</code>) it is internally adjusted to 0.001 wt.% to avoid instabilities. See the <a href="https://computationalthermodynamics.github.io/MAGEMin/issues.html#known-problems">MAGEMin documentation</a> for more information.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p><code>MAGEMin</code> automatically normalises the assigned composition to 100%.</p></div></div><p>For example, a constant bulk composition of KLB-1 basalt can be defined as follows.</p><pre><code class="language-Julia hljs">constant_inputs = OrderedDict(
    # Assign a constant bulk composition in oxide wt.%
    &quot;SiO2&quot;  =&gt; 44.66,
    &quot;TiO2&quot;  =&gt;  1.42,
    &quot;Al2O3&quot; =&gt; 15.90,
    &quot;Cr2O3&quot; =&gt;  0.00,
    &quot;FeO&quot;   =&gt; 11.41,
    &quot;Fe2O3&quot; =&gt;  0.00,
    &quot;MgO&quot;   =&gt;  7.79,
    &quot;CaO&quot;   =&gt; 11.24,
    &quot;Na2O&quot;  =&gt;  2.74,
    &quot;K2O&quot;   =&gt;  0.22,
    &quot;H2O&quot;   =&gt;  0.00
)</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Here <code>&quot;Fe2O3&quot;</code> is given a value of 0.00 i.e. reducing conditions. Oxygen fugacity is discussed in the @ref[Fugacity and Activity] section. Either <code>&quot;Fe2O3&quot;</code> or <code>&quot;O&quot;</code> must be defined in the bulk composition.</p></div></div><p>Errors will be thrown if the user defines an oxide outside of <code>MAGEMin</code>&#39;s compositional space. Either due to additional oxides, e.g,. <code>&quot;CuO&quot;</code> or if any oxides are missing.</p><p>Any number of oxides can be defined as vectors in a <code>variable_inputs</code> dictionary:</p><pre><code class="language-Julia hljs">variable_inputs = OrderedDict(
    # Assign a variable H2O content from 0.0 to 8.0 wt.%
    # in increments of 1.0 wt.%
    &quot;H2O&quot; =&gt; collect(range(start=0.0, stop=8.0, step=1.0))
)</code></pre><h2 id="Pressure-(mandatory)"><a class="docs-heading-anchor" href="#Pressure-(mandatory)">Pressure (mandatory)</a><a id="Pressure-(mandatory)-1"></a><a class="docs-heading-anchor-permalink" href="#Pressure-(mandatory)" title="Permalink"></a></h2><p>Pressure is defined using the <code>&quot;P&quot;</code> key and has units of kilobars (kbar) and must be positive. As with oxides, when a pressure is defined as 0.0 kbar <code>MAGEMinEnsemble</code> automatically converts it to 1 bar to avoid instability. See the <a href="https://computationalthermodynamics.github.io/MAGEMin/issues.html#known-problems">MAGEMin documentation</a> for more details.</p><pre><code class="language-Julia hljs"># Assign a constant pressure of 1.0 kbar
constant_inputs = OrderedDict(
    &quot;P&quot; =&gt; 1.0
)</code></pre><h2 id="Fugacity-and-Activity"><a class="docs-heading-anchor" href="#Fugacity-and-Activity">Fugacity and Activity</a><a id="Fugacity-and-Activity-1"></a><a class="docs-heading-anchor-permalink" href="#Fugacity-and-Activity" title="Permalink"></a></h2><p>The fugacity (or activity) for compounds during the simulation can be buffered using the <code>&quot;buffer&quot;</code> and <code>&quot;offset&quot;</code> keys. The <code>&quot;buffer&quot;</code> value must be a string, while <code>&quot;offset&quot;</code> values are floats. If <code>&quot;offset&quot;</code> is defined, a <code>&quot;buffer&quot;</code> must also be defined.</p><h3 id="Buffer"><a class="docs-heading-anchor" href="#Buffer">Buffer</a><a id="Buffer-1"></a><a class="docs-heading-anchor-permalink" href="#Buffer" title="Permalink"></a></h3><p>There are several buffers available in <code>MAGEMin</code>. These can be divided into two types, (1) oxygen fugacity buffers, and (2) activity buffers.</p><h4 id="1.-Oxygen-Fugacity-Buffers"><a class="docs-heading-anchor" href="#1.-Oxygen-Fugacity-Buffers">1. Oxygen Fugacity Buffers</a><a id="1.-Oxygen-Fugacity-Buffers-1"></a><a class="docs-heading-anchor-permalink" href="#1.-Oxygen-Fugacity-Buffers" title="Permalink"></a></h4><p>The oxygen fugacity buffer constrains the free oxygen content according to a pressure-temperature relationship. The available buffers in <code>MAGEMin</code> are:</p><ul><li>Quartz-Fayalite-Magnetite (<code>&quot;qfm&quot;</code>)</li><li>Quartz-Iron_Faylite (<code>&quot;qif&quot;</code>)</li><li>Nickel-Nickel Oxide (<code>&quot;nno&quot;</code>)</li><li>Hematite-Magnetite (<code>&quot;hm&quot;</code>)</li><li>Iron-Wüstite (<code>&quot;iw&quot;</code>)</li><li>Carbon-Carbon Monoxide (<code>&quot;cco&quot;</code>)</li></ul><p>If an oxygen fugacity buffer is set, there must be sufficient <code>&quot;O&quot;</code> or <code>&quot;Fe2O3&quot;</code> defined in the bulk composition to saturate the system at that buffer. Excess <code>&quot;O&quot;</code> or <code>&quot;Fe2O3&quot;</code> will be removed. The oxygen (<code>&quot;O&quot;</code>) content is set to be equal to <code>&quot;Fe2O3&quot;</code>. Therefore both <code>&quot;O&quot;</code> and <code>&quot;Fe2O3&quot;</code> should not be defined in the bulk composition.</p><p>Assigning a constant oxygen fugacity buffer:</p><pre><code class="language-Julia hljs"># Assign a constant oxygen fugacity at the QFM buffer
constant_inputs = OrderedDict(
    &quot;buffer&quot; =&gt; &quot;qfm&quot;
)</code></pre><p>Running simulations with different buffers:</p><pre><code class="language-Julia hljs"># Assign a variable oxygen fugacity at the QFM and NNO buffers
variable_inputs = OrderedDict(
    &quot;buffer&quot; =&gt; [&quot;qfm&quot;, &quot;nno&quot;]
)</code></pre><h4 id="2.-Activity-Buffers"><a class="docs-heading-anchor" href="#2.-Activity-Buffers">2. Activity Buffers</a><a id="2.-Activity-Buffers-1"></a><a class="docs-heading-anchor-permalink" href="#2.-Activity-Buffers" title="Permalink"></a></h4><p>In the same manner, activity for a given oxide can be fixed using the following activity buffers:</p><ul><li><code>&quot;aH2O&quot;</code> using water as reference phase</li><li><code>&quot;aO2&quot;</code> using dioxygen as reference phase</li><li><code>&quot;aMgO&quot;</code> using periclase as reference phase</li><li><code>&quot;aFeO&quot;</code> using ferropericlase as reference phase</li><li><code>&quot;aAl2O3&quot;</code> using corundum as reference phase</li><li><code>&quot;aTiO2&quot;</code> using rutile as reference phase</li><li><code>&quot;aSiO2&quot;</code> using quartz/coesite as reference phase</li></ul><p>As with the oxygen fugacity buffers, the corresponding oxide content must be sufficient to saturate the system. Excess oxide-content will be removed at each simulation step.</p><h3 id="Buffer-Offset"><a class="docs-heading-anchor" href="#Buffer-Offset">Buffer Offset</a><a id="Buffer-Offset-1"></a><a class="docs-heading-anchor-permalink" href="#Buffer-Offset" title="Permalink"></a></h3><p>To perform the simulation at an activity or oxygen fugacity offset from the buffer the key <code>&quot;offset&quot;</code> can be used, where the offset is given in log10 units. A constant buffer and offset of QFM+1 can be set using:</p><pre><code class="language-Julia hljs">constant_inputs = OrderedDict(
    &quot;buffer&quot; =&gt; &quot;qfm&quot;,
    &quot;offset&quot; =&gt; 1.0,
)</code></pre><p>A variable offset can be defined by including the &quot;offset&quot; key in the <code>variable_inputs</code> dictionary:</p><pre><code class="language-Julia hljs">constant_inputs = OrderedDict(
    # &quot;buffer&quot; must be defined if &quot;offset&quot; is defined
    &quot;buffer&quot; =&gt; &quot;qfm&quot;
)

variable_inputs = OrderedDict(
    # perform simulations at QFM-2.0 to QFM+2.0 in increments of 1.0 log10 units
    &quot;offset&quot; =&gt; [-2.0, -1.0, 0.0, 1.0, 2.0]
)</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../basic_usage/">« Basic Usage</a><a class="docs-footer-nextpage" href="../oxygen_fugacity/">Controlling Oxygen Fugacity »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Monday 3 March 2025 10:38">Monday 3 March 2025</span>. Using Julia version 1.11.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
